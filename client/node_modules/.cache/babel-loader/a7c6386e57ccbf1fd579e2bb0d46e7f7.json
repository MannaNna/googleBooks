{"ast":null,"code":"import _defineProperty from \"/Users/marianasecu/Desktop/iBookClub/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/marianasecu/Desktop/iBookClub/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/marianasecu/Desktop/iBookClub/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/marianasecu/Desktop/iBookClub/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/marianasecu/Desktop/iBookClub/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/marianasecu/Desktop/iBookClub/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/marianasecu/Desktop/iBookClub/client/src/pages/saved.js\";\nimport React, { Component } from \"react\";\nimport Container from \"../components/Container\";\nimport SearchForm from \"../components/SearchForm\";\nimport { BookDetail, BookList } from \"../components/BookDetail\";\nimport API from \"../utils/API\";\n\nvar Saved =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Saved, _Component);\n\n  function Saved() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Saved);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Saved)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      result: [],\n      search: \"\",\n      title: \"\",\n      authors: \"\",\n      description: \"\",\n      src: \"\",\n      link: \"\",\n      id: \"\"\n    };\n\n    _this.getSavedBooks = function () {\n      var userID = _this.props.userID;\n      console.log(userID);\n      API.getSavedBooks(userID).then(function (res) {\n        return _this.setState({\n          result: res.data\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.handleInputChange = function (event) {\n      var value = event.target.value;\n      var name = event.target.name;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleFormSubmit = function (event) {\n      event.preventDefault();\n\n      _this.searchBooks(_this.state.search);\n    };\n\n    _this.handleBookDelete = function (id) {\n      API.deleteBook(id).then(function () {\n        return _this.getSavedBooks();\n      });\n      return console.log(id);\n    };\n\n    return _this;\n  }\n\n  _createClass(Saved, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getSavedBooks();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        heading: \"Search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(SearchForm, {\n        value: this.state.search,\n        handleInputChange: this.handleInputChange,\n        handleFormSubmit: this.handleFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        heading: this.state.result.totalItems || \"Search for a Book to Begin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, this.state.result.length === 0 ? React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"No Results to Display\") : React.createElement(BookList, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, this.state.result.map(function (element, index) {\n        return React.createElement(BookDetail, {\n          key: element._id,\n          id: element._id,\n          title: element.title,\n          src: element.image,\n          authors: element.authors,\n          description: element.description,\n          link: element.link,\n          btnvalue: \"Delete\",\n          onClick: function onClick(e) {\n            return _this2.handleBookDelete(element._id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        });\n      }))));\n    }\n  }]);\n\n  return Saved;\n}(Component);\n\nexport default Saved;","map":{"version":3,"sources":["/Users/marianasecu/Desktop/iBookClub/client/src/pages/saved.js"],"names":["React","Component","Container","SearchForm","BookDetail","BookList","API","Saved","state","result","search","title","authors","description","src","link","id","getSavedBooks","userID","props","console","log","then","res","setState","data","catch","err","handleInputChange","event","value","target","name","handleFormSubmit","preventDefault","searchBooks","handleBookDelete","deleteBook","totalItems","length","map","element","index","_id","image","e"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Container from \"../components/Container\";\nimport SearchForm from \"../components/SearchForm\";\nimport {BookDetail, BookList} from \"../components/BookDetail\";\nimport API from \"../utils/API\";\n\nclass Saved extends Component {\n  state = {\n    result: [],\n    search: \"\",\n    title:\"\",\n    authors:\"\",\n    description:\"\",\n    src:\"\",\n    link:\"\",\n    id:\"\",\n  };\n  componentDidMount() {\n    this.getSavedBooks();\n  }\n\n\n  getSavedBooks = () => {\n    const userID=this.props.userID;\n    console.log(userID)\n    API.getSavedBooks(userID)\n      .then(res => \n        this.setState({\n        result: res.data \n      })\n      )\n      .catch(err => console.log(err));     \n  };\n\n\n  handleInputChange = event => {\n    const value = event.target.value;\n    const name = event.target.name;\n    this.setState({\n      [name]: value\n    });\n  };\n\n\nhandleFormSubmit = event => {\n    event.preventDefault();\n    this.searchBooks(this.state.search);\n  };\n\n\n\n    handleBookDelete = id => {\n      \n      API.deleteBook(id).then(() => this.getSavedBooks());\n\n      return console.log(id)\n    };\n  \n\n  render() {\n    \n    return (\n      <Container>\n\n            <div heading=\"Search\">\n              <SearchForm\n                value={this.state.search}\n                handleInputChange={this.handleInputChange}\n                handleFormSubmit={this.handleFormSubmit}\n              />\n            </div>\n\n            <div\n              heading={this.state.result.totalItems || \"Search for a Book to Begin\"}\n            >\n              {this.state.result.length === 0 ? (\n                <h3>No Results to Display</h3>\n              ) : (\n              <BookList>\n                {this.state.result.map((element, index) => {\n                  \n                  return (\n                  \n \n                    <BookDetail\n                    key={element._id}\n                    id={element._id}\n                    title={element.title}\n                    src={element.image}\n                    authors={element.authors}\n                    description={element.description}\n                    link={element.link}\n                    btnvalue=\"Delete\"\n                    onClick={(e) => this.handleBookDelete(element._id)}\n                    /> \n                  )\n                })} \n              </BookList>   \n              )}\n          </div>\n      </Container>\n    );\n  }\n}\n\nexport default Saved;"]},"metadata":{},"sourceType":"module"}