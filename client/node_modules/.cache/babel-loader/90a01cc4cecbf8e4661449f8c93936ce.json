{"ast":null,"code":"import _defineProperty from \"/Users/marianasecu/Desktop/iBookClub/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/marianasecu/Desktop/iBookClub/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/marianasecu/Desktop/iBookClub/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/marianasecu/Desktop/iBookClub/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/marianasecu/Desktop/iBookClub/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/marianasecu/Desktop/iBookClub/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/marianasecu/Desktop/iBookClub/client/src/pages/saved.js\";\nimport React, { Component } from \"react\";\nimport Container from \"../components/Container\";\nimport { BookDetail, BookList } from \"../components/BookDetail\";\nimport API from \"../utils/API\";\n\nvar Saved =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Saved, _Component);\n\n  function Saved() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Saved);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Saved)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      result: [],\n      search: \"\",\n      title: \"\",\n      authors: \"\",\n      description: \"\",\n      src: \"\",\n      link: \"\",\n      id: \"\",\n      isLoggedIn: false,\n      userID: \"\",\n      name: \"\",\n      email: \"\",\n      picture: \"\"\n    };\n\n    _this.getSavedBooks = function () {\n      var userID = _this.props.userID;\n      console.log(userID);\n      API.getSavedBooks(userID).then(function (res) {\n        return _this.setState({\n          result: res.data\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.handleInputChange = function (event) {\n      var value = event.target.value;\n      var name = event.target.name;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleFormSubmit = function (event) {\n      event.preventDefault();\n\n      _this.searchBooks(_this.state.search);\n    };\n\n    _this.handleBookDelete = function (id) {\n      API.deleteBook(id).then(function () {\n        return _this.getSavedBooks();\n      });\n      return console.log(id);\n    };\n\n    return _this;\n  }\n\n  _createClass(Saved, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getSavedBooks();\n      var isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';\n      var userID = localStorage.getItem('userID');\n      var name = localStorage.getItem('name');\n      var email = localStorage.getItem('email');\n      var picture = localStorage.getItem('picture');\n      this.setState({\n        userID: userID,\n        email: email,\n        name: name,\n        picture: picture,\n        isLoggedIn: isLoggedIn\n      });\n    } // componentDidMount() {\n    //   this.getSavedBooks();\n    // }\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        heading: this.state.result.totalItems || \"Search for a Book to Begin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, this.state.result.length === 0 ? React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"No Results to Display\") : React.createElement(BookList, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, this.state.result.map(function (element, index) {\n        return React.createElement(BookDetail, {\n          key: element._id,\n          id: element._id,\n          title: element.title,\n          src: element.image,\n          authors: element.authors,\n          description: element.description,\n          link: element.link,\n          btnvalue: \"Delete\",\n          onClick: function onClick(e) {\n            return _this2.handleBookDelete(element._id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        });\n      }))));\n    }\n  }]);\n\n  return Saved;\n}(Component);\n\nexport default Saved;","map":{"version":3,"sources":["/Users/marianasecu/Desktop/iBookClub/client/src/pages/saved.js"],"names":["React","Component","Container","BookDetail","BookList","API","Saved","state","result","search","title","authors","description","src","link","id","isLoggedIn","userID","name","email","picture","getSavedBooks","props","console","log","then","res","setState","data","catch","err","handleInputChange","event","value","target","handleFormSubmit","preventDefault","searchBooks","handleBookDelete","deleteBook","localStorage","getItem","totalItems","length","map","element","index","_id","image","e"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,SAAQC,UAAR,EAAoBC,QAApB,QAAmC,0BAAnC;AACA,OAAOC,GAAP,MAAgB,cAAhB;;IAEMC,K;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,MAAM,EAAE,EADF;AAENC,MAAAA,MAAM,EAAE,EAFF;AAGNC,MAAAA,KAAK,EAAC,EAHA;AAINC,MAAAA,OAAO,EAAC,EAJF;AAKNC,MAAAA,WAAW,EAAC,EALN;AAMNC,MAAAA,GAAG,EAAC,EANE;AAONC,MAAAA,IAAI,EAAC,EAPC;AAQNC,MAAAA,EAAE,EAAC,EARG;AASNC,MAAAA,UAAU,EAAE,KATN;AAUNC,MAAAA,MAAM,EAAE,EAVF;AAWNC,MAAAA,IAAI,EAAE,EAXA;AAYNC,MAAAA,KAAK,EAAE,EAZD;AAaNC,MAAAA,OAAO,EAAE;AAbH,K;;UA+BRC,a,GAAgB,YAAM;AACpB,UAAMJ,MAAM,GAAC,MAAKK,KAAL,CAAWL,MAAxB;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAYP,MAAZ;AACAZ,MAAAA,GAAG,CAACgB,aAAJ,CAAkBJ,MAAlB,EACGQ,IADH,CACQ,UAAAC,GAAG;AAAA,eACP,MAAKC,QAAL,CAAc;AACdnB,UAAAA,MAAM,EAAEkB,GAAG,CAACE;AADE,SAAd,CADO;AAAA,OADX,EAMGC,KANH,CAMS,UAAAC,GAAG;AAAA,eAAIP,OAAO,CAACC,GAAR,CAAYM,GAAZ,CAAJ;AAAA,OANZ;AAOD,K;;UAGDC,iB,GAAoB,UAAAC,KAAK,EAAI;AAC3B,UAAMC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAaD,KAA3B;AACA,UAAMf,IAAI,GAAGc,KAAK,CAACE,MAAN,CAAahB,IAA1B;;AACA,YAAKS,QAAL,qBACGT,IADH,EACUe,KADV;AAGD,K;;UAGHE,gB,GAAmB,UAAAH,KAAK,EAAI;AACxBA,MAAAA,KAAK,CAACI,cAAN;;AACA,YAAKC,WAAL,CAAiB,MAAK9B,KAAL,CAAWE,MAA5B;AACD,K;;UAIC6B,gB,GAAmB,UAAAvB,EAAE,EAAI;AAEvBV,MAAAA,GAAG,CAACkC,UAAJ,CAAexB,EAAf,EAAmBU,IAAnB,CAAwB;AAAA,eAAM,MAAKJ,aAAL,EAAN;AAAA,OAAxB;AAEA,aAAOE,OAAO,CAACC,GAAR,CAAYT,EAAZ,CAAP;AACD,K;;;;;;;wCAjDiB;AAClB,WAAKM,aAAL;AACA,UAAML,UAAU,GAAGwB,YAAY,CAACC,OAAb,CAAqB,YAArB,MAAuC,MAA1D;AACA,UAAMxB,MAAM,GAAIuB,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAhB;AACA,UAAMvB,IAAI,GAAGsB,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAb;AACA,UAAMtB,KAAK,GAAGqB,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,UAAMrB,OAAO,GAAGoB,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAhB;AACA,WAAKd,QAAL,CAAc;AAAEV,QAAAA,MAAM,EAANA,MAAF;AAAUE,QAAAA,KAAK,EAALA,KAAV;AAAiBD,QAAAA,IAAI,EAAJA,IAAjB;AAAuBE,QAAAA,OAAO,EAAPA,OAAvB;AAAgCJ,QAAAA,UAAU,EAAVA;AAAhC,OAAd;AACD,K,CAED;AACA;AACA;;;;6BAwCS;AAAA;;AAEP,aACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAUM;AACE,QAAA,OAAO,EAAE,KAAKT,KAAL,CAAWC,MAAX,CAAkBkC,UAAlB,IAAgC,4BAD3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGG,KAAKnC,KAAL,CAAWC,MAAX,CAAkBmC,MAAlB,KAA6B,CAA7B,GACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADD,GAGD,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKpC,KAAL,CAAWC,MAAX,CAAkBoC,GAAlB,CAAsB,UAACC,OAAD,EAAUC,KAAV,EAAoB;AAEzC,eAGE,oBAAC,UAAD;AACA,UAAA,GAAG,EAAED,OAAO,CAACE,GADb;AAEA,UAAA,EAAE,EAAEF,OAAO,CAACE,GAFZ;AAGA,UAAA,KAAK,EAAEF,OAAO,CAACnC,KAHf;AAIA,UAAA,GAAG,EAAEmC,OAAO,CAACG,KAJb;AAKA,UAAA,OAAO,EAAEH,OAAO,CAAClC,OALjB;AAMA,UAAA,WAAW,EAAEkC,OAAO,CAACjC,WANrB;AAOA,UAAA,IAAI,EAAEiC,OAAO,CAAC/B,IAPd;AAQA,UAAA,QAAQ,EAAC,QART;AASA,UAAA,OAAO,EAAE,iBAACmC,CAAD;AAAA,mBAAO,MAAI,CAACX,gBAAL,CAAsBO,OAAO,CAACE,GAA9B,CAAP;AAAA,WATT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAHF;AAeD,OAjBA,CADH,CANF,CAVN,CADF;AAyCD;;;;EAhHiB9C,S;;AAmHpB,eAAeK,KAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Container from \"../components/Container\";\nimport {BookDetail, BookList} from \"../components/BookDetail\";\nimport API from \"../utils/API\";\n\nclass Saved extends Component {\n  state = {\n    result: [],\n    search: \"\",\n    title:\"\",\n    authors:\"\",\n    description:\"\",\n    src:\"\",\n    link:\"\",\n    id:\"\",\n    isLoggedIn: false,\n    userID: \"\",\n    name: \"\",\n    email: \"\",\n    picture: \"\"\n  };\n\n  componentDidMount() {\n    this.getSavedBooks();\n    const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';\n    const userID =  localStorage.getItem('userID');\n    const name = localStorage.getItem('name');\n    const email = localStorage.getItem('email');\n    const picture = localStorage.getItem('picture');\n    this.setState({ userID, email, name, picture, isLoggedIn });\n  }\n\n  // componentDidMount() {\n  //   this.getSavedBooks();\n  // }\n\n\n  getSavedBooks = () => {\n    const userID=this.props.userID;\n    console.log(userID)\n    API.getSavedBooks(userID)\n      .then(res => \n        this.setState({\n        result: res.data \n      })\n      )\n      .catch(err => console.log(err));     \n  };\n\n\n  handleInputChange = event => {\n    const value = event.target.value;\n    const name = event.target.name;\n    this.setState({\n      [name]: value\n    });\n  };\n\n\nhandleFormSubmit = event => {\n    event.preventDefault();\n    this.searchBooks(this.state.search);\n  };\n\n\n\n    handleBookDelete = id => {\n      \n      API.deleteBook(id).then(() => this.getSavedBooks());\n\n      return console.log(id)\n    };\n  \n\n  render() {\n    \n    return (\n      <Container>\n\n            {/* <div heading=\"Search\">\n              <SearchForm\n                value={this.state.search}\n                handleInputChange={this.handleInputChange}\n                handleFormSubmit={this.handleFormSubmit}\n              />\n            </div> */}\n\n            <div\n              heading={this.state.result.totalItems || \"Search for a Book to Begin\"}\n            >\n              {this.state.result.length === 0 ? (\n                <h3>No Results to Display</h3>\n              ) : (\n              <BookList>\n                {this.state.result.map((element, index) => {\n                  \n                  return (\n                  \n \n                    <BookDetail\n                    key={element._id}\n                    id={element._id}\n                    title={element.title}\n                    src={element.image}\n                    authors={element.authors}\n                    description={element.description}\n                    link={element.link}\n                    btnvalue=\"Delete\"\n                    onClick={(e) => this.handleBookDelete(element._id)}\n                    /> \n                  )\n                })} \n              </BookList>   \n              )}\n          </div>\n      </Container>\n    );\n  }\n}\n\nexport default Saved;"]},"metadata":{},"sourceType":"module"}