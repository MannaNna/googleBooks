{"ast":null,"code":"import _defineProperty from \"/Users/marianasecu/Desktop/iBookClub/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/marianasecu/Desktop/iBookClub/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/marianasecu/Desktop/iBookClub/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/marianasecu/Desktop/iBookClub/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/marianasecu/Desktop/iBookClub/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/marianasecu/Desktop/iBookClub/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/marianasecu/Desktop/iBookClub/client/src/pages/googleBooksContainer.js\";\nimport React, { Component } from \"react\";\nimport Container from \"../components/Container\";\nimport SearchForm from \"../components/SearchForm\";\nimport { BookDetail, BookList } from \"../components/BookDetail\";\nimport API from \"../utils/API\";\n\nvar GoogleContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(GoogleContainer, _Component);\n\n  function GoogleContainer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, GoogleContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(GoogleContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      result: [],\n      search: \"\",\n      title: \"\",\n      authors: \"\",\n      description: \"\",\n      src: \"\",\n      link: \"\",\n      id: \"\"\n    };\n\n    _this.searchBooks = function (query) {\n      API.search(query).then(function (res) {\n        return _this.setState({\n          result: res.data.items\n        });\n      }).catch(function () {\n        return _this.setState({\n          result: [],\n          message: \"No New Books Found, Try a Different Query\"\n        });\n      });\n    };\n\n    _this.handleInputChange = function (event) {\n      var value = event.target.value;\n      var name = event.target.name;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleFormSubmit = function (event) {\n      event.preventDefault();\n\n      _this.searchBooks(_this.state.search);\n    };\n\n    _this.handleBookSave = function (id) {\n      var book = _this.state.result.find(function (book) {\n        return book.id === id;\n      });\n\n      var userIDC = _this.props.userID;\n      console.log(userIDC);\n      API.saveBook({\n        id: book.id,\n        title: book.volumeInfo.title,\n        link: book.volumeInfo.infoLink,\n        authors: book.volumeInfo.authors,\n        description: book.volumeInfo.description,\n        image: book.volumeInfo.imageLinks.thumbnail,\n        userID: userIDC\n      }).then(function () {\n        return _this.searchBooks();\n      });\n      return console.log(book.id);\n    };\n\n    return _this;\n  }\n\n  _createClass(GoogleContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      console.log(this.props.userID + ' books container');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        heading: \"Search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(SearchForm, {\n        value: this.state.search,\n        handleInputChange: this.handleInputChange,\n        handleFormSubmit: this.handleFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        heading: this.state.result.totalItems || \"Search for a Book to Begin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, this.state.result.length === 0 ? React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"No Results to Display\") : React.createElement(BookList, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, this.state.result.map(function (element, index) {\n        return React.createElement(BookDetail, {\n          key: element.id,\n          id: element.id,\n          title: element.volumeInfo.title,\n          src: element.volumeInfo.imageLinks.thumbnail,\n          authors: element.volumeInfo.authors,\n          description: element.volumeInfo.description,\n          link: element.volumeInfo.previewLink,\n          btnvalue: \"Save\",\n          onClick: function onClick(e) {\n            return _this2.handleBookSave(element.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        });\n      }))));\n    }\n  }]);\n\n  return GoogleContainer;\n}(Component);\n\nexport default GoogleContainer;","map":{"version":3,"sources":["/Users/marianasecu/Desktop/iBookClub/client/src/pages/googleBooksContainer.js"],"names":["React","Component","Container","SearchForm","BookDetail","BookList","API","GoogleContainer","state","result","search","title","authors","description","src","link","id","searchBooks","query","then","res","setState","data","items","catch","message","handleInputChange","event","value","target","name","handleFormSubmit","preventDefault","handleBookSave","book","find","userIDC","props","userID","console","log","saveBook","volumeInfo","infoLink","image","imageLinks","thumbnail","totalItems","length","map","element","index","previewLink","e"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Container from \"../components/Container\";\nimport SearchForm from \"../components/SearchForm\";\nimport {BookDetail, BookList} from \"../components/BookDetail\";\nimport API from \"../utils/API\";\n\nclass GoogleContainer extends Component {\n  \n\n  state = {\n    result: [],\n    search: \"\",\n    title:\"\",\n    authors:\"\",\n    description:\"\",\n    src:\"\",\n    link:\"\",\n    id:\"\",\n  };\n\n \n  componentDidMount () {\n    console.log(this.props.userID + ' books container')\n    \n    \n}\n\n  searchBooks = query => {\n   \n    API.search(query)\n      .then(res => this.setState({ result: res.data.items }))\n      .catch(() =>\n        this.setState({\n          result: [],\n          message: \"No New Books Found, Try a Different Query\"\n        })\n      );\n  };\n\n  \n\n  handleInputChange = event => {\n\n    const value = event.target.value;\n    const name = event.target.name;\n    this.setState({\n      [name]: value\n    });\n  };\n\n\nhandleFormSubmit = event => {\n    event.preventDefault();\n    this.searchBooks(this.state.search);\n  };\n\n\nhandleBookSave = id => {\n      const book = this.state.result.find(book => book.id === id);\n      const userIDC = this.props.userID\n      console.log(userIDC)\n      API.saveBook({\n        id: book.id,\n        title: book.volumeInfo.title,\n        link: book.volumeInfo.infoLink,\n        authors: book.volumeInfo.authors,\n        description: book.volumeInfo.description,\n        image: book.volumeInfo.imageLinks.thumbnail,\n        userID: userIDC\n      }).then(() => this.searchBooks());\n\n      return console.log(book.id)\n    };\n  \n\n  render() {\n   \n    return (\n      \n      <Container>\n\n            <div heading=\"Search\">\n              <SearchForm\n                value={this.state.search}\n                handleInputChange={this.handleInputChange}\n                handleFormSubmit={this.handleFormSubmit}\n              />\n            </div>\n\n            <div\n              heading={this.state.result.totalItems || \"Search for a Book to Begin\"}\n            >\n              {this.state.result.length === 0 ? (\n                <h3>No Results to Display</h3>\n              ) : (\n              <BookList>\n                {this.state.result.map((element, index) => {\n                  \n                  return (\n                  \n \n                    <BookDetail\n                    key={element.id}\n                    id={element.id}\n                    title={element.volumeInfo.title}\n                    src={element.volumeInfo.imageLinks.thumbnail}\n                    authors={element.volumeInfo.authors}\n                    description={element.volumeInfo.description}\n                    link={element.volumeInfo.previewLink} \n                    btnvalue=\"Save\"\n                    onClick={(e) => this.handleBookSave(element.id)}\n                    /> \n                  )\n                })} \n              </BookList>   \n              )}\n          </div>\n      </Container>\n    );\n  }\n}\n\nexport default GoogleContainer;"]},"metadata":{},"sourceType":"module"}